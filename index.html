<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday Anjali ❤️</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-1: #0f172a; /* deep midnight */
      --bg-2: #1f2937; /* slate */
      --accent: #ff6b81; /* pink */
      --accent-2: #ffd166; /* warm */
      --muted: #94a3b8;
      --glass: rgba(255,255,255,0.06);
      --card: rgba(255,255,255,0.03);
    }
    *{box-sizing: border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      color:#e6eef8;
      background: linear-gradient(180deg,var(--bg-1),var(--bg-2));
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }

    /* --- HERO --- */
    .hero{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:2rem;
      position:relative;
      text-align:center;
    }
    .hero-inner{
      max-width:980px;
      width:100%;
      background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:18px;
      padding:2.25rem;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
      backdrop-filter: blur(6px);
      position:relative;
    }
    h1{font-family:'Dancing Script', cursive; font-size:3.6rem; margin:0; letter-spacing:0.5px}
    p.lead{color:var(--muted); margin-top:0.5rem; font-size:1.05rem}

    .enter-btn{
      margin-top:1.25rem;
      display:inline-flex;
      gap:0.6rem;
      align-items:center;
      padding:0.7rem 1.1rem;
      border-radius:999px;
      background:linear-gradient(90deg,var(--accent),#ff9fb9);
      color:#071224;
      font-weight:600;
      border:none;
      cursor:pointer;
      box-shadow:0 6px 18px rgba(255,107,129,0.16);
      transform-origin:center;
    }

    /* floating balloons/hearts */
    .float-wrap{position:absolute; inset:0; pointer-events:none}
    .float{position:absolute; width:64px; height:64px; border-radius:50%; opacity:0.9; transform-origin:center; animation: float 6s ease-in-out infinite}
    .float.heart{width:56px; height:56px; background:var(--accent); clip-path: path('M0 0')}
    @keyframes float{0%{transform: translateY(0) rotate(0deg)}50%{transform: translateY(-26px) rotate(6deg)}100%{transform: translateY(0) rotate(0deg)}}

    /* --- MAIN (hidden until enter) --- */
    main{display:none; padding:2rem 1rem 6rem}
    .container{max-width:1100px; margin:0 auto}

    /* header bar */
    .topbar{display:flex; gap:1rem; align-items:center; justify-content:space-between; margin-bottom:1.2rem}
    .topbar .left{display:flex; gap:1rem; align-items:center}
    .mini-logo{width:48px; height:48px; border-radius:12px; background:linear-gradient(45deg,var(--accent),#ff9fb9); display:flex; align-items:center; justify-content:center; font-weight:700}
    .controls{display:flex; gap:0.6rem}
    .btn{background:var(--card); border-radius:10px; border:none; padding:0.6rem 0.8rem; cursor:pointer; color:var(--muted)}

    /* layout columns */
    .grid{display:grid; grid-template-columns: 1fr 360px; gap:1.1rem}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}

    /* timeline */
    .timeline{background:var(--card); padding:1rem; border-radius:12px}
    .timeline h2{font-size:1.1rem; margin:0 0 0.6rem 0}
    .time-item{display:flex; gap:0.9rem; padding:0.6rem; border-radius:10px; align-items:flex-start}
    .time-item + .time-item{margin-top:0.45rem}
    .time-item .thumb{width:64px; height:64px; border-radius:10px; background:linear-gradient(90deg,var(--accent),#ff9fb9); flex:0 0 64px}
    .time-item .meta{flex:1}
    .time-item .meta h3{margin:0; font-size:0.98rem}
    .time-item .meta p{margin:0.2rem 0 0 0; color:var(--muted); font-size:0.92rem}

    /* gallery */
    .gallery{display:grid; grid-template-columns: repeat(3,1fr); gap:8px}
    .gallery img{width:100%; height:120px; object-fit:cover; border-radius:8px; cursor:pointer; display:block}
    @media (max-width:600px){ .gallery img{height:90px} .gallery{grid-template-columns:repeat(2,1fr)} }

    /* modal lightbox */
    .modal{position:fixed; inset:0; background:rgba(2,6,23,0.7); display:flex; align-items:center; justify-content:center; z-index:9999; display:none}
    .modal img{max-width:95vw; max-height:85vh; border-radius:12px}

    /* scratch card */
    .scratch-wrap{position:relative; border-radius:12px; overflow:hidden; background:linear-gradient(90deg,var(--accent-2),#ffd1a4); padding:1rem}
    .scratch-canvas{width:100%; height:180px; display:block; border-radius:8px}
    .reveal-msg{position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size:1.05rem; font-weight:600}

    /* hearts surprise */
    .hearts{display:flex; gap:0.6rem; flex-wrap:wrap}
    .heart-btn{width:56px; height:56px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center; background:linear-gradient(90deg,var(--accent),#ff9fb9); cursor:pointer; box-shadow:0 10px 30px rgba(255,107,129,0.12)}

    /* final letter */
    .letter{padding:1rem; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); min-height:160px}
    .typewriter{white-space:pre-wrap; font-size:1rem; color:#fff}

    footer{margin-top:1.5rem; text-align:center; color:var(--muted)}

    /* small helpers */
    .muted{color:var(--muted)}
    .center{text-align:center}
  </style>
</head>
<body>
  <!-- Background floating decoration (CSS/JS will position and animate) -->
  <div class="float-wrap" aria-hidden="true"></div>

  <!-- Background music (placeholder) -->
  <!-- Replace "audio/song.mp3" with your audio file. Browsers usually block autoplay so music starts on user interaction. -->
  <audio id="bg-music" src="audio/song.mp3" preload="auto"></audio>

  <!-- HERO / Landing -->
  <section class="hero" id="hero">
    <div class="hero-inner container">
      <h1 id="hero-title">Happy Birthday, Anjali ❤️</h1>
      <p class="lead">A little celebration, a walk down our memory lane, and a small surprise — just for you, Babu.</p>
      <div style="display:flex; gap:0.7rem; justify-content:center; margin-top:1rem;">
        <button class="enter-btn" id="enterBtn">Click to Enter & Play Music</button>
        <button class="btn" id="muteBtn" title="Toggle music">Play / Pause</button>
      </div>
    </div>
  </section>

  <!-- MAIN content (hidden until enter) -->
  <main id="mainContent">
    <div class="container">
      <div class="topbar">
        <div class="left">
          <div class="mini-logo">A</div>
          <div>
            <div style="font-weight:700">Happy Birthday, Anjali</div>
            <div class="muted" style="font-size:0.86rem">Made with love by Adi</div>
          </div>
        </div>
        <div class="controls">
          <div class="muted" id="countdownSmall">Countdown: --</div>
          <button class="btn" id="surpriseBtn">Final Surprise</button>
        </div>
      </div>

      <div class="grid">
        <section>
          <!-- TIMELINE -->
          <div class="timeline" aria-label="timeline">
            <h2>Our Love Story — Timeline</h2>
            <!-- TIMELINE ITEMS: replace placeholders or update via JS timelineData array -->
            <div id="timelineList">
              <!-- JS will populate timeline items here -->
            </div>
          </div>

          <!-- GALLERY -->
          <div style="margin-top:1rem;" class="timeline">
            <h2>Photo Gallery</h2>
            <div class="gallery" id="gallery">
              <!-- Replace images/photo1.jpg ... with your photos -->
              <img src="images/photo1.jpg" alt="photo 1" data-full="images/photo1.jpg">
              <img src="images/photo2.jpg" alt="photo 2" data-full="images/photo2.jpg">
              <img src="images/photo3.jpg" alt="photo 3" data-full="images/photo3.jpg">
              <img src="images/photo4.jpg" alt="photo 4" data-full="images/photo4.jpg">
              <img src="images/photo5.jpg" alt="photo 5" data-full="images/photo5.jpg">
              <img src="images/photo6.jpg" alt="photo 6" data-full="images/photo6.jpg">
            </div>
          </div>

          <!-- SCRATCH CARD SURPRISE -->
          <div style="margin-top:1rem;" class="timeline">
            <h2>Little Surprise — Scratch to Reveal</h2>
            <div class="scratch-wrap" id="scratchWrap">
              <div class="reveal-msg" id="revealMsg">(Your secret message will appear here)</div>
              <canvas id="scratchCanvas" class="scratch-canvas"></canvas>
            </div>
            <div class="muted" style="font-size:0.85rem; margin-top:0.6rem">Tip: Scratch with mouse or finger to reveal the message.</div>
          </div>

          <!-- TYPEWRITER LETTER -->
          <div style="margin-top:1rem;" class="timeline">
            <h2>Your Birthday Letter</h2>
            <div class="letter">
              <div id="letterText" class="typewriter">(Your typed letter will appear here when you press the Final Surprise button.)</div>
            </div>
          </div>

        </section>

        <!-- RIGHT COLUMN (sidebar) -->
        <aside>
          <div class="timeline">
            <h2>Countdown</h2>
            <div class="center" style="font-size:1.6rem; font-weight:700" id="countdownLarge">-- : -- : -- : --</div>
            <div class="muted center" style="margin-top:0.5rem">Days : Hours : Minutes : Seconds</div>
          </div>

          <div style="margin-top:1rem;" class="timeline">
            <h2>Click Hearts for Wishes</h2>
            <div class="hearts" id="heartsWrap">
              <!-- hearts will be generated by JS (placeholder messages in messages array) -->
            </div>
          </div>

          <div style="margin-top:1rem;" class="timeline center">
            <h2>Quick Controls</h2>
            <div style="display:flex; gap:0.5rem; justify-content:center; margin-top:0.6rem">
              <button class="btn" id="toggleMusic">Play/Pause Music</button>
              <button class="btn" id="fullscreenBtn">Fullscreen</button>
            </div>
          </div>
        </aside>
      </div>

      <footer>
        <div class="muted">Made with lots of love ❤️ — Customize this page in the <code>index.html</code> file.</div>
      </footer>
    </div>
  </main>

  <!-- Lightbox modal -->
  <div class="modal" id="modal">
    <img src="" alt="big photo" id="modalImg">
  </div>

  <!-- Canvas for confetti/fireworks (triggered by final surprise) -->
  <canvas id="fireworksCanvas" style="position:fixed; inset:0; pointer-events:none; z-index:9998"></canvas>

  <!-- External libraries (CDN) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

  <script>
    /* =====================
       ===  PLACEHOLDERS  ===
       - Replace images/photo1.jpg ... with your own photos in /images/ folder
       - Replace audio/song.mp3 with your chosen music in /audio/ folder
       - Set the BIRTHDAY constant below to the target date (YYYY-MM-DD or full ISO)
       - Edit timelineData & messages arrays to add your texts and dates
       ===================== */

    // 1) Set your birthday target (replace the string below):
    const BIRTHDAY = 'YYYY-MM-DDT00:00:00'; // <-- replace with real date, e.g. '1996-12-25T00:00:00'

    // 2) Timeline entries (you can also directly edit HTML placeholders if you prefer)
    const timelineData = [
      {date:'21 Jun 2014', title:'First met', text:'We met on Facebook — the beginning of everything.', img:'images/photo1.jpg'},
      {date:'21 Jun 2018', title:'First Video Call', text:'Our first video call, I remember your smile so clearly.', img:'images/photo2.jpg'},
      {date:'21 Jul 2024', title:'First Kiss', text:'Our first kiss at Gorakhpur — a moment I will never forget.', img:'images/photo3.jpg'},
      // Add more entries or remove — keep the same object shape
    ];

    // 3) Hearts messages for click game
    const messages = [
      'I love your smile more than anything.',
      'You are my Babu ❤️ — happy birthday!',
      'Thank you for being patient and loving me.',
      'I promise to make every birthday special for you.',
      'Our next adventure together will be unforgettable.'
    ];

    // ------------------------------
    // Small utility functions & DOM refs
    const main = document.getElementById('mainContent');
    const enterBtn = document.getElementById('enterBtn');
    const bgMusic = document.getElementById('bg-music');
    const muteBtn = document.getElementById('muteBtn');
    const gallery = document.getElementById('gallery');
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const timelineList = document.getElementById('timelineList');
    const heartsWrap = document.getElementById('heartsWrap');
    const countdownLarge = document.getElementById('countdownLarge');
    const countdownSmall = document.getElementById('countdownSmall');
    const revealMsg = document.getElementById('revealMsg');
    const scratchCanvas = document.getElementById('scratchCanvas');
    const letterText = document.getElementById('letterText');
    const surpriseBtn = document.getElementById('surpriseBtn');
    const fireworksCanvas = document.getElementById('fireworksCanvas');

    // --- Floating decoration generation ---
    (function createFloating(){
      const wrap = document.querySelector('.float-wrap');
      const colors = ['#ff9fb9','#ffd166','#6ee7b7','#9be7ff'];
      for(let i=0;i<9;i++){
        const el = document.createElement('div');
        el.className='float';
        el.style.left = (5 + Math.random()*90) + '%';
        el.style.top = (10 + Math.random()*70) + '%';
        el.style.width = (30 + Math.random()*80) + 'px';
        el.style.height = el.style.width;
        el.style.background = colors[i % colors.length];
        el.style.opacity = 0.85 - Math.random()*0.3;
        el.style.animationDuration = (5 + Math.random()*6) + 's';
        wrap.appendChild(el);
      }
    })();

    // --- Enter button behavior ---
    enterBtn.addEventListener('click', ()=>{
      main.style.display = 'block';
      document.getElementById('hero').style.display='none';
      try{ bgMusic.play(); }catch(e){ /* user gesture needed on some browsers */ }
      // small hero animation using GSAP
      gsap.from('.timeline', {y:20, opacity:0, duration:0.8, stagger:0.08});
    });

    muteBtn.addEventListener('click', ()=>{
      if(bgMusic.paused) bgMusic.play(); else bgMusic.pause();
    });

    document.getElementById('toggleMusic').addEventListener('click', ()=>{
      if(bgMusic.paused) bgMusic.play(); else bgMusic.pause();
    });

    // --- Timeline render ---
    function renderTimeline(){
      timelineList.innerHTML = '';
      timelineData.forEach(item =>{
        const div = document.createElement('div');
        div.className='time-item';
        div.innerHTML = `
          <div class="thumb" role="img" aria-label="${item.title}" style="background-image:url('${item.img}'); background-size:cover; background-position:center"></div>
          <div class="meta">
            <h3>${item.title} <span class="muted" style="font-size:0.85rem; font-weight:600"> • ${item.date}</span></h3>
            <p>${item.text}</p>
          </div>`;
        timelineList.appendChild(div);
      });
    }
    renderTimeline();

    // --- Gallery lightbox ---
    gallery.addEventListener('click', e=>{
      const img = e.target.closest('img');
      if(!img) return;
      modalImg.src = img.dataset.full || img.src;
      modal.style.display = 'flex';
    });
    modal.addEventListener('click', ()=>{ modal.style.display='none'; modalImg.src=''; });

    // --- Countdown ---
    function updateCountdown(){
      if(!BIRTHDAY || BIRTHDAY.includes('YYYY')){
        countdownLarge.textContent = '-- : -- : -- : --';
        countdownSmall.textContent = 'Set BIRTHDAY constant in code';
        return;
      }
      const now = new Date();
      const target = new Date(BIRTHDAY);
      const diff = target - now;
      if(diff<=0){
        countdownLarge.textContent = 'Today! 🎉';
        countdownSmall.textContent = 'Happy Birthday!';
        return;
      }
      const days = Math.floor(diff / (1000*60*60*24));
      const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
      const minutes = Math.floor((diff % (1000*60*60)) / (1000*60));
      const seconds = Math.floor((diff % (1000*60)) / 1000);
      countdownLarge.textContent = `${pad(days)} : ${pad(hours)} : ${pad(minutes)} : ${pad(seconds)}`;
      countdownSmall.textContent = `Countdown: ${days}d ${hours}h ${minutes}m`;
    }
    function pad(n){return String(n).padStart(2,'0')}
    setInterval(updateCountdown, 1000);
    updateCountdown();

    // --- Hearts clickable ---
    function makeHearts(){
      heartsWrap.innerHTML = '';
      for(let i=0;i<8;i++){
        const btn = document.createElement('button');
        btn.className='heart-btn';
        btn.innerHTML = '❤';
        btn.addEventListener('click', ()=>{
          const msg = messages[Math.floor(Math.random()*messages.length)];
          alert(msg);
        });
        heartsWrap.appendChild(btn);
      }
    }
    makeHearts();

    // --- Scratch card logic ---
    (function scratch(){
      const canvas = scratchCanvas;
      const ctx = canvas.getContext('2d');
      function fit(){
        const rect = canvas.getBoundingClientRect();
        canvas.width = rect.width * devicePixelRatio;
        canvas.height = rect.height * devicePixelRatio;
        canvas.style.width = rect.width + 'px';
        canvas.style.height = rect.height + 'px';
        ctx.scale(devicePixelRatio, devicePixelRatio);
        drawOverlay();
      }
      function drawOverlay(){
        const w = canvas.width/devicePixelRatio;
        const h = canvas.height/devicePixelRatio;
        ctx.clearRect(0,0,w,h);
        ctx.fillStyle = '#c0c0c0';
        ctx.fillRect(0,0,w,h);
        ctx.globalCompositeOperation = 'destination-out';
        // we will draw circles when user moves
        ctx.globalCompositeOperation = 'source-over';
        ctx.fillStyle = '#333';
        ctx.font = '600 20px Poppins';
        ctx.fillStyle = '#444';
        ctx.textAlign = 'center';
        ctx.fillText('Scratch here', w/2, h/2 - 10);
        ctx.fillText('(use finger or mouse)', w/2, h/2 + 16);
      }
      fit();
      window.addEventListener('resize', fit);

      let isDrawing=false;
      function pointerDown(e){ isDrawing=true; draw(e); }
      function pointerUp(e){ isDrawing=false; checkReveal(); }
      function draw(e){
        if(!isDrawing && e.type !== 'pointerdown') return;
        const rect = canvas.getBoundingClientRect();
        const x = (e.clientX - rect.left);
        const y = (e.clientY - rect.top);
        ctx.globalCompositeOperation = 'destination-out';
        ctx.beginPath();
        ctx.arc(x, y, 26, 0, Math.PI*2);
        ctx.fill();
      }
      function checkReveal(){
        const w = canvas.width/devicePixelRatio;
        const h = canvas.height/devicePixelRatio;
        const img = ctx.getImageData(0,0,w,h);
        let transparent = 0;
        for(let i=3;i<img.data.length;i+=4){ if(img.data[i] === 0) transparent++; }
        const transparentPct = (transparent / (w*h)) * 100;
        if(transparentPct > 35){
          // reveal message
          document.getElementById('revealMsg').textContent = "Happy Birthday, my Babu! I love you so much. — Adi";
          gsap.to(canvas, {opacity:0, duration:0.8, onComplete: ()=> canvas.style.display='none'});
        }
      }

      canvas.addEventListener('pointerdown', (e)=>{ e.preventDefault(); pointerDown(e); });
      canvas.addEventListener('pointermove', (e)=>{ e.preventDefault(); draw(e); });
      canvas.addEventListener('pointerup', pointerUp);
      canvas.addEventListener('pointerleave', pointerUp);
    })();

    // --- Typewriter for final letter ---
    const fullLetter = `My dearest Anjali,\n\nOn your special day I want you to know that every moment with you is a treasure. From the silly small talks to our deepest conversations, you make my life so full. Happy birthday, Babu. May your day be as beautiful as your smile.\n\nAlways yours,\nAdi`;
    function typeLetter(){
      letterText.textContent = '';
      let i=0;
      const speed = 28;
      const id = setInterval(()=>{
        letterText.textContent += fullLetter[i] || '';
        i++;
        if(i>=fullLetter.length){ clearInterval(id); }
      }, speed);
    }

    // --- Final Surprise: typing + confetti + reveal ---
    surpriseBtn.addEventListener('click', ()=>{
      typeLetter();
      // small confetti burst
      confetti.create(fireworksCanvas, {resize:true, useWorker:true})({particleCount:80, spread:120, origin:{y:0.4}});
    });

    // --- Fullscreen toggle ---
    document.getElementById('fullscreenBtn').addEventListener('click', ()=>{
      if(!document.fullscreenElement) document.documentElement.requestFullscreen(); else document.exitFullscreen();
    });

    // small helper so that audio toggling shows state on button
    bgMusic.addEventListener('play', ()=> muteBtn.textContent = 'Pause Music');
    bgMusic.addEventListener('pause', ()=> muteBtn.textContent = 'Play Music');

    // Save as image / print note: You can use normal browser print if you want a PDF of this page.

    // End of main script
  </script>

</body>
</html>
